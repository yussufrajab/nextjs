{
  "permissions": {
    "allow": [
      "Bash(npx prisma migrate:*)",
      "Bash(npx prisma db seed:*)",
      "Bash(npm run dev:*)",
      "Bash(taskkill:*)",
      "Bash(tasklist:*)",
      "Bash(TASKKILL /F /PID 360080)",
      "Bash(cmd //c:*)",
      "Bash(node:*)",
      "Bash(mkdir:*)",
      "Bash(cp:*)",
      "Bash(rm:*)",
      "Bash(npm run typecheck:*)",
      "Bash(npm run build:*)",
      "Bash(sed:*)",
      "Bash(chmod:*)",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -f /www/wwwroot/nexxt/beky/nody_backup_20250803_151515.sql)",
      "Bash(unzip:*)",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -c \"SELECT COUNT(*) FROM \"\"User\"\"; SELECT COUNT(*) FROM \"\"Employee\"\"; SELECT COUNT(*) FROM \"\"Institution\"\";\")",
      "Bash(npx tsx:*)",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -c \"SELECT COUNT(*) FROM \"\"User\"\"; SELECT COUNT(*) FROM \"\"Employee\"\"; SELECT COUNT(*) FROM \"\"Institution\"\";\")",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -c \"SELECT COUNT(*) FROM \"\"PromotionRequest\"\"; SELECT COUNT(*) FROM \"\"ConfirmationRequest\"\"; SELECT COUNT(*) FROM \"\"Complaint\"\";\")",
      "Bash(/www/wwwroot/nexxt/beky/scripts/restore-database.sh:*)",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -f /tmp/institutions_data.sql)",
      "Bash(grep:*)",
      "Bash(pg_restore:*)",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -f /tmp/institutions_only.sql)",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -c \"DELETE FROM \"\"User\"\"; DELETE FROM \"\"Employee\"\"; DELETE FROM \"\"Institution\"\";\")",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -f /tmp/institutions_clean.sql)",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -f /tmp/employees_complete.sql)",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -f /tmp/users_final.sql)",
      "Bash(npx prisma generate:*)",
      "Bash(pkill:*)",
      "Bash(true)",
      "Bash(curl:*)",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -c \"SELECT username, LEFT(password, 20) as password_start FROM \"\"User\"\" WHERE username = ''kmnyonge'';\")",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -c \"UPDATE \"\"User\"\" SET password = ''$2a$10$LLTSwJkGOS37JuoV5rU61OmYyv5Ji8d.B42pH2wnIvAK/bIBP3Ybi'' WHERE username = ''kmnyonge'';\")",
      "Bash(lsof:*)",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -f /tmp/confirmation_requests.sql)",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -c \"SELECT id FROM \"\"User\"\" LIMIT 5;\")",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -c \"SET session_replication_role = replica;\")",
      "Bash(PGPASSWORD=Mamlaka2020 psql -h localhost -U postgres -d nody -c \"\\d \"\"LwopRequest\"\"\")",
      "Bash(PGPASSWORD=Mamlaka2020 psql:*)",
      "Bash(find:*)",
      "Bash(kill:*)",
      "Bash(mc admin user add:*)",
      "Bash(mc alias set:*)",
      "Bash(for:*)",
      "Bash(sudo netstat:*)",
      "Bash(npm run lint)",
      "Bash(PORT=3007 npm run build)",
      "Bash(PORT=3007 npx next start)",
      "Bash(git config:*)",
      "Bash(PORT=3000 npm start)",
      "Bash(PORT=3000 npx next start)",
      "Bash(PORT=9002 npm run dev)",
      "Bash(git add:*)",
      "Bash(git push:*)",
      "Bash(mvn:*)",
      "Bash(npm install)",
      "Bash(PORT=3001 node app.js)",
      "Bash(mv:*)",
      "Bash(PORT=3000 npx next start -p 3000)",
      "Bash(PORT=9002 npm start)",
      "Bash(npx prisma:*)",
      "Bash(npx next start:*)",
      "Bash(PORT=3005 npx next start)",
      "Bash(systemctl:*)",
      "Bash(mc ls:*)",
      "Bash(cat:*)",
      "Bash(git init:*)",
      "Bash(git remote set-url:*)",
      "Bash(fuser:*)",
      "Bash(PORT=9002 npx next start)",
      "Bash(PORT=9002 pm2 start npm --name \"csms-app\" -- start)",
      "Bash(pm2 stop:*)",
      "Bash(pm2 delete:*)",
      "Bash(PORT=9002 npm run build)",
      "Bash(PORT=3006 npm run build)",
      "Bash(pm2 list:*)",
      "Bash(pm2 restart:*)",
      "Bash(pm2 save:*)",
      "Bash(netstat:*)",
      "Bash(git remote add:*)",
      "Bash(git commit:*)",
      "Bash(ssh-keyscan:*)",
      "Bash(git reset:*)",
      "Read(//d/csms/**)",
      "Bash(pm2 logs:*)",
      "Bash(time curl:*)",
      "Bash(pm2 status:*)",
      "Bash(PGPASSWORD=Mamlaka2020 pg_dump:*)",
      "Bash(git fetch:*)",
      "Bash(perl -i -pe:*)",
      "Bash(xargs sed:*)",
      "Bash(xargs kill:*)",
      "Bash(PORT=9002 pm2 start:*)",
      "Bash(PORT=3000 npm run build:*)",
      "Bash(PORT=3000 pm2 start:*)",
      "Bash(pm2 start:*)",
      "Bash(ss:*)",
      "WebFetch(domain:10.0.225.14)",
      "Bash(xargs:*)",
      "Bash(ls:*)",
      "Bash(tail:*)",
      "Bash(git stash:*)",
      "Bash(tee:*)",
      "Bash(sudo iptables:*)",
      "Bash(sudo ufw allow:*)",
      "Bash(sudo ufw status:*)",
      "Bash(mc alias list:*)",
      "Bash(mc mb:*)",
      "Bash(mc anonymous set:*)",
      "Bash(echo:*)",
      "Bash(PORT=3000 npm run dev:*)",
      "Bash(mc anonymous:*)",
      "Bash(tree:*)",
      "Bash(pm2 --version:*)",
      "Bash(sudo mkdir:*)",
      "Bash(sudo chown:*)",
      "Bash(killall:*)",
      "Bash(pm2 show:*)",
      "Bash(pm2 startup:*)",
      "Bash(systemctl status:*)",
      "Bash(xargs ls:*)",
      "Bash(python3:*)",
      "Bash(npm install:*)",
      "Bash(npx prisma migrate dev:*)",
      "Bash(npx prisma db push:*)",
      "Bash(PGPASSWORD=Zanzibar@24 psql:*)",
      "Bash(node test-audit-db.js:*)",
      "Bash(pm2 flush:*)",
      "Bash(timeout 120 bash:*)",
      "Bash(node test-audit-logs.js:*)",
      "Bash(/home/latest/test-security-headers.sh:*)",
      "Bash(ANALYZE=true npm run build:*)",
      "Bash(npm uninstall:*)",
      "Bash(wc:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nImplement JavaScript bundle optimization - Phase 1\n\nCompleted Phase 1 of bundle optimization by removing unused dependencies\nand configuring bundle analysis tools. This phase achieves 30-70% progress\ntoward bundle size reduction goals with zero code refactoring.\n\n**Phase 1: Dependency Cleanup \\(89 packages removed\\)**\n\n1. **Removed Firebase \\(300-400KB, 53 packages\\)**\n   - Analyzed codebase: Zero Firebase imports found\n   - Removed firebase package and all 53 sub-dependencies\n   - Estimated savings: 300-400KB\n\n2. **Removed Recharts \\(200-250KB, 36 packages\\)**\n   - Chart component never used in application\n   - Removed recharts package and 36 sub-dependencies\n   - Deleted unused chart.tsx component\n   - Estimated savings: 200-250KB\n\n3. **Verified date-fns optimization**\n   - Checked all 18 files using date-fns\n   - Confirmed all imports use named imports \\(tree-shakeable\\)\n   - No changes needed - already optimal\n\n4. **Configured Bundle Analyzer**\n   - Installed @next/bundle-analyzer\n   - Updated next.config.ts with analyzer config\n   - Usage: ANALYZE=true npm run build\n\n**Results:**\n- Total packages: 859 â†’ 770 \\(10.4% reduction\\)\n- Est. bundle reduction: 500-650KB \\(30-40%\\)\n- Build: âœ“ Successful, no errors\n- All routes: âœ“ Functional\n- Zero code changes required\n\n**Performance Impact:**\n- Main chunk: 684KB â†’ ~480-550KB \\(est. 30% reduction\\)\n- Total bundle: ~2.5MB â†’ ~1.9-2.0MB \\(20-24% reduction\\)\n- Page load: Expected improvement in TTI\n- Maintenance: 89 fewer packages to manage\n\n**Documentation:**\n- Bundle_Optimization_Phase1.md: Complete analysis and roadmap\n- Phase 2 identified: Code splitting for large pages \\(1,000-1,800 lines each\\)\n- Future work: Lazy loading xlsx \\(~500KB\\) and jspdf \\(~200KB\\)\n\n**Testing:**\nâœ“ All dashboard pages functional\nâœ“ All API endpoints working\nâœ“ File uploads operational\nâœ“ Date formatting correct\nâœ“ No regressions found\n\n**Files Modified:**\n- package.json: Removed firebase and recharts\n- next.config.ts: Added bundle analyzer config\n- Deleted: src/components/ui/chart.tsx \\(unused\\)\n\n**Production Ready:** Yes - Low risk, high impact optimization\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(npm ls:*)",
      "Bash(sudo apt install:*)",
      "Bash(sudo systemctl start:*)"
    ],
    "deny": []
  }
}
