
> nextn@0.1.0 start
> next start -p 9002

   ▲ Next.js 15.2.3
   - Local:        http://localhost:9002
   - Network:      http://172.24.160.1:9002

 ✓ Starting...
 ✓ Ready in 742ms
=== TEST API CALLED ===
=== Dashboard metrics API called ===
Total employees: 174
Pending confirmations: 0
Pending promotions: 0
Employees on LWOP: 2
Pending terminations: 0
Open complaints: 16
Pending cadre changes: 11
Pending retirements: 14
Pending resignations: 11
Pending service extensions: 7
=== Dashboard metrics calculated === {
  totalEmployees: 174,
  pendingConfirmations: 12,
  pendingPromotions: 8,
  employeesOnLwop: 2,
  pendingTerminations: 3,
  openComplaints: 16,
  pendingCadreChanges: 11,
  pendingRetirements: 14,
  pendingResignations: 11,
  pendingServiceExtensions: 7
}
=== Recent activities count === 5
=== Final API response === {
  "success": true,
  "data": {
    "stats": {
      "totalEmployees": 174,
      "pendingConfirmations": 12,
      "pendingPromotions": 8,
      "employeesOnLwop": 2,
      "pendingTerminations": 3,
      "openComplaints": 16,
      "pendingCadreChanges": 11,
      "pendingRetirements": 14,
      "pendingResignations": 11,
      "pendingServiceExtensions": 7
    },
    "recentActivities": [
      {
        "id": "cmdf3opqb0007e6lcw1etegn1",
        "type": "Dismissal",
        "employee": "Hamza Khamis Maalim",
        "status": "Approved by Commission",
        "updatedAt": "2025-07-22T22:23:47.722Z",
        "href": "/dashboard/termination"
      },
      {
        "id": "cmdf3jyjk0005e6lcqhdswe06",
        "type": "Termination",
        "employee": "Ali Hassan Haji",
        "status": "Approved by Commission",
        "updatedAt": "2025-07-22T22:20:57.635Z",
        "href": "/dashboard/termination"
      },
      {
        "id": "cmdf365yd0003e6lc3gzcs74w",
        "type": "Dismissal",
        "employee": "Khalid Juma Ali",
        "status": "Approved by Commission",
        "updatedAt": "2025-07-22T22:08:57.983Z",
        "href": "/dashboard/termination"
      },
      {
        "id": "cmdf32bir0001e6lcaq6m1i6s",
        "type": "Service Extension",
        "employee": "Khalid Juma Ali",
        "status": "Approved by Commission",
        "updatedAt": "2025-07-22T22:07:04.500Z",
        "href": "/dashboard/service-extension"
      },
      {
        "id": "cmdf2n6i60003e6lonqa65v28",
        "type": "Resignation",
        "employee": "Maryam Othman Khamis",
        "status": "Rejected by Commission - Request Concluded",
        "updatedAt": "2025-07-22T21:54:18.579Z",
        "href": "/dashboard/resignation"
      }
    ]
  }
}
Urgent actions API called with: { userRole: null, userInstitutionId: 'cmd06nn7n0001e67w2h5rf86x' }
Role null is a CSC role - showing urgent actions for all institutions
Found 15 employees needing urgent actions
Employees API called with params: {
  userRole: 'HRO',
  userInstitutionId: 'cmd06nn7n0001e67w2h5rf86x',
  q: '',
  status: null,
  gender: null,
  page: 1,
  size: 1000
}
Applying institution filter for role: HRO
Found 30 employees out of 30 total
Employees API called with params: {
  userRole: 'HRO',
  userInstitutionId: 'cmd06nn7n0001e67w2h5rf86x',
  q: '',
  status: null,
  gender: null,
  page: 1,
  size: 1000
}
Applying institution filter for role: HRO
Found 30 employees out of 30 total
Confirmations API called with: { userId: 'cmd06nnbn000le67wtg41s3su', userRole: 'HRO' }
LWOP API called with: {
  userId: 'cmd06nnbn000le67wtg41s3su',
  userRole: 'HRO',
  userInstitutionId: 'cmd06nn7n0001e67w2h5rf86x'
}
Applying institution filter for role HRO with institutionId cmd06nn7n0001e67w2h5rf86x
Promotions API called with: {
  userId: 'cmd06nnbn000le67wtg41s3su',
  userRole: 'HRO',
  userInstitutionId: 'cmd06nn7n0001e67w2h5rf86x'
}
Applying institution filter for role HRO with institutionId cmd06nn7n0001e67w2h5rf86x
Found 17 promotion requests
Cadre Change API called with: {
  userId: 'cmd06nnbn000le67wtg41s3su',
  userRole: 'HRO',
  userInstitutionId: 'cmd06nn7n0001e67w2h5rf86x'
}
Applying institution filter for role HRO with institutionId cmd06nn7n0001e67w2h5rf86x
Retirement API called with: {
  userId: 'cmd06nnbn000le67wtg41s3su',
  userRole: 'HRO',
  userInstitutionId: 'cmd06nn7n0001e67w2h5rf86x'
}
Applying institution filter for role HRO with institutionId cmd06nn7n0001e67w2h5rf86x
Resignation API called with: {
  userId: 'cmd06nnbn000le67wtg41s3su',
  userRole: 'HRO',
  userInstitutionId: 'cmd06nn7n0001e67w2h5rf86x'
}
Applying institution filter for role HRO with institutionId cmd06nn7n0001e67w2h5rf86x
Service Extension API called with: {
  userId: 'cmd06nnbn000le67wtg41s3su',
  userRole: 'HRO',
  userInstitutionId: 'cmd06nn7n0001e67w2h5rf86x'
}
Applying institution filter for role HRO with institutionId cmd06nn7n0001e67w2h5rf86x
Termination API called with: {
  userId: 'cmd06nnbn000le67wtg41s3su',
  userRole: 'HRO',
  userInstitutionId: 'cmd06nn7n0001e67w2h5rf86x'
}
Applying institution filter for role HRO with institutionId cmd06nn7n0001e67w2h5rf86x
Track requests API called with: {
  institutionName: null,
  requestType: null,
  status: null,
  page: 1,
  limit: 20
}
Track requests API called with: {
  institutionName: null,
  requestType: null,
  status: null,
  page: 1,
  limit: 20
}
Termination API called with: {
  userId: 'cmd06nnbn000le67wtg41s3su',
  userRole: 'HRO',
  userInstitutionId: 'cmd06nn7n0001e67w2h5rf86x'
}
Applying institution filter for role HRO with institutionId cmd06nn7n0001e67w2h5rf86x
Employees API called with params: {
  userRole: 'HRO',
  userInstitutionId: 'cmd06nn7n0001e67w2h5rf86x',
  q: '',
  status: null,
  gender: null,
  page: 1,
  size: 1000
}
Applying institution filter for role: HRO
Found 30 employees out of 30 total
Employees API called with params: {
  userRole: 'HRO',
  userInstitutionId: 'cmd06nn7n0001e67w2h5rf86x',
  q: '',
  status: null,
  gender: null,
  page: 1,
  size: 1000
}
Applying institution filter for role: HRO
Found 30 employees out of 30 total
Track requests API called with: {
  institutionName: null,
  requestType: null,
  status: null,
  page: 1,
  limit: 20
}
Track requests API called with: {
  institutionName: null,
  requestType: null,
  status: null,
  page: 1,
  limit: 20
}
